	# 120: "Probes", 130: "Probes - Mon", 140: "TLDs", 190: "TLD Probe results"
	declare -r PROB=120
	declare -r PMON=130
	declare -r TLDS=140
	declare -r PRES=190

	declare -a ptrns
	declare from
	declare till
	declare time_cond
	declare ptrn_cond

	for i; do
		if [[ "$i" = "-h" || "$i" = "--help" ]]; then
			echo "usage: $0 <options>"
			echo
			echo "Options:"
			echo "<from>                              in format 0000-00-00 00:00:00 (optional)"
			echo "<till>                              in format 0000-00-00 00:00:00 (optional)"
			echo "<pattern[:s]> [<pattern[:s]> ...]   search pattern that will be applied to columns: ${search_columns[@]} (optional)"
			echo "                                    append the pattern with \":s\" to search strictly, e. g. \"tld1:s\""

			exit 1
		fi
	done

	while [ -n "$1" ]; do
		if [[ "$1" =~ [0-9]{4}-[0-9]{2}-[0-9]{2}\ [0-9]{2}:[0-9]{2}:[0-9]{2} ]]; then
			if [ -z "$from" ]; then
				echo "from: $1"
				from="$1"
			elif [ -z "$till" ]; then
				echo "till: $1"
				till="$1"
			else
				echo "invalid parameter: $1"
				exit 1
			fi
		else
			ptrns+=("$1")
		fi

		shift
	done

	if [ -n "$from" ]; then
		if [ -n "$till" ]; then
			time_cond="and ${clock_field} between unix_timestamp('$from') and unix_timestamp('$till') "
		else
			time_cond="and ${clock_field}>=unix_timestamp('$from') "
		fi
	fi

	if [[ ${#ptrns[@]} -ne 0 ]]; then
		index=0
		for i in "${ptrns[@]}"; do
			if [[ $index -eq 0 ]]; then
				ptrn_cond+="and ("
			else
				ptrn_cond+=" and "
			fi

			declare str=""
			for c in  "${search_columns[@]}"; do
				if [ -n "$str" ]; then
					str+=" or "
				fi

				str+="$c COLLATE utf8mb3_unicode_ci "

				declare ptrn=${i%:s}
				declare postfix

				if [ $i = $ptrn ]; then
					postfix="like '%$ptrn%'"
				else
					postfix="= '$ptrn'"
				fi

				str+="${postfix}"
			done

			ptrn_cond+="($str)"

			if [[ ${#ptrns[@]}-1 -eq $index ]]; then
				ptrn_cond+=") "
			fi
			((index++))
		done
	fi
